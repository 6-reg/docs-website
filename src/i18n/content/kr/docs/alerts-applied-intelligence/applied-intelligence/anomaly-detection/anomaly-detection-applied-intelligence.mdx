---
title: 적용된 인텔리전스를 통한 이상 감지
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - Proactive detection
metaDescription: Learn how anomaly detection in New Relic notifies you of unusual app behavior. Get notified in Slack or set up a custom webhook.
translationType: machine
---

import anomalydashboard from 'images/anomaly-dashboard.png'

import anomalydetails from 'images/anomaly-details.png'

import anomalyslacknotifications from 'images/anomaly-slack-notifications.png'

import newRelicAlertsBaselineThresholds from 'images/new-relic-alerts-baseline-thresholds.png'

import iconAlertCritical from 'images/icon-alert-critical.png'

import iconAlertWarning from 'images/icon-alert-warning.png'

import alertsHowCustomAnomaliesWork from 'images/alerts_screenshot-full_how-custom-anomalies-work.png'

import alertsAnomaliesSetUpperandLowerRanges from 'images/alerts_screenshot-full_anomalies-set-upper-and-lower-ranges.png'

import alertsFacetedAnomaliesTwo from 'images/alerts_screenshot-full_faceted-anomalies-two.png'

import alertsFacetedAnomalies from 'images/alerts_screenshot-full_faceted-anomalies.png'

import alertsConfigureYourAnomalyThresholds from 'images/alerts_screenshot-full_configure-your-anomaly-thresholds.png'

적용된 인텔리전스의 이상 탐지를 통해 New Relic은 비정상적인 행동을 즉시 팀에 알립니다. New Relic은 AI를 사용하여 애플리케이션을 지속적으로 관찰합니다. 이 정보를 사용하여 애플리케이션의 기준 또는 예상 성능을 결정합니다. 행동이 기준선에서 벗어날 때마다 즉시 파악하고 팀에 경고하여 모든 오류를 신속하고 효율적으로 해결할 수 있습니다.

<img
  title="A screenshot of the anomaly dashboard in the New Relic UI"
  alt="A screenshot of the anomaly dashboard in the New Relic UI"
  src={anomalydashboard}
/>

<figcaption>
  팀이 시스템의 비정상적인 동작을 모니터링할 수 있는 이상 대시보드입니다.  

</figcaption>

## 우리가 변칙을 사용하는 방법 [#anomalies-in-use]

New Relic의 개발자들은 애플리케이션의 상태를 모니터링하는 것이 얼마나 중요한지 잘 알고 있습니다. 우리는 고객이 필요할 때마다 필요한 데이터에 액세스하기를 원하므로 시스템 성능에 이상이 있는 경우 팀에 경고해야 합니다. New Relic의 이상 탐지는 응용 지능을 사용하여 처리량, 오류율 및 대기 시간이라는 세 가지 주요 황금 신호를 모니터링합니다. 이상 탐지를 통해 개발자는 이러한 메트릭에 대한 기본 성능을 모니터링합니다.

따라서 어느 날 오후 응답 시간이 급증하여 고객이 홈페이지에 액세스하는 데 평소보다 오래 걸린다고 가정해 보겠습니다. 대기 시간 메트릭 데이터가 기준에서 벗어났기 때문에 변칙 검색은 이 변칙 동작에 플래그를 지정합니다. 이것은 반드시 문제가 있다는 것을 의미하는 것이 아니라 AI가 우리 시스템에 비정상적인 무언가를 등록했으며 우리가 더 자세히 살펴봐야 한다는 것을 나타냅니다.

우리는 몇 가지 방법으로 이러한 비정상적인 동작을 모니터링합니다. 먼저 우리 팀은 변칙 대시보드를 사용하여 무엇이 언제 변경되었는지 확인할 수 있습니다.

<img
  title="A screenshot of anomaly details in the New Relic UI"
  alt="A screenshot of anomaly details in the New Relic UI"
  src={anomalydetails}
/>

<figcaption>
  어떤 오류가 발생했고 그 이유는 무엇인지 더 잘 이해하려면 시스템 성능의 이상 현상을 살펴보십시오.  

</figcaption>

또한 Slack에서 전달될 이상 징후에 대한 알림을 설정하고 필요할 때 메시지를 전달하도록 웹후크를 설정했습니다.

<img
  title="A screenshot of the slack notification set up for anomalies in the New Relic UI"
  alt="A screenshot of the slack notification set up for anomalies in the New Relic UI"
  src={anomalyslacknotifications}
/>

<figcaption>
  New Relic UI에서 이상 현상에 대한 슬랙 또는 웹후크 알림을 설정하는 방법입니다.  

</figcaption>

이러한 이벤트는 쿼리, 사용자 정의 대시보드 생성 및 경고에도 사용할 수 있습니다. 이상 감지 구성(관심 있는 앱 그룹)을 설정한 후 이 구성을 소스로 추가할 수 있습니다. 그런 다음 이상 징후는 사건 인텔리전스를 통해 다른 데이터 소스와 자동으로 상관 관계가 지정됩니다.

## 이상 감지에는 자동 및 사용자 지정의 두 가지 유형이 있습니다.

[자동 이상 징후](/docs/alerts-applied-intelligence/applied-intelligence/anomaly-detection/anomaly-detection-applied-intelligence#automatic-anomalies) 는 팀이 APM 모니터링 애플리케이션의 비정상적인 동작에 대해 학습할 수 있는 가장 효율적인 방법입니다. 자동 변칙 검색은 애플리케이션의 동작이 기준에서 벗어나는 순간 알림을 받을 수 있도록 팀에서 구현할 수 있는 자동 도구입니다. 자동 이상 현상을 사용하여 문제의 원인을 식별하고 적절한 조치를 취하여 시스템을 다시 원활하게 실행할 수 있습니다.

[사용자 지정 이상 현상](/docs/alerts-applied-intelligence/applied-intelligence/anomaly-detection/anomaly-detection-applied-intelligence#custom-anomalies) 을 통해 팀의 구성 가능성을 높일 수 있습니다. 맞춤형 이상 징후는 팀에 모든 NQRL 조건에 대해 경고하고 임계값을 조정 및 최적화할 수 있는 기능을 제공합니다. 사용자 지정 변칙은 또한 정적 경고와 동일한 고급 조정 설정을 사용하므로 팀에서 중요한 변칙 사건만 볼 수 있습니다.

## 자동 이상 현상 [#automatic-anomalies]

자동 이상 감지는 다음 방법을 사용하여 앱 데이터에서 이상을 감지합니다.

1. 이상 감지는 APM 에이전트가 보고한 메트릭 데이터를 모니터링하여 일반적인 애플리케이션 역학 모델을 구축하고 처리량, 응답 시간 및 오류와 같은 주요 황금 신호에 중점을 둡니다.
2. 이러한 황금 신호 중 하나가 비정상적인 동작을 보이면 시스템은 이를 플래그로 지정하고 정상 동작으로의 복구를 추적합니다.
3. 시스템은 데이터 변경 사항에 적응하고 새로운 데이터를 기반으로 모델을 지속적으로 업데이트합니다.

**자동으로 켜기** : 기본적으로 이상 감지는 사용자가 취해야 할 조치 없이 모든 APM 애플리케이션을 모니터링합니다. 이상이 감지되면 다양한 활동 스트림에 자동으로 표시되고 적용된 인텔리전스 이상은 NRQL을 통해 쿼리할 수 있습니다.

**알림 수신:** 처리량, 오류율 또는 응답 시간의 비정상적인 변화를 감지하면 알림을 보냅니다. 알림은 선택한 Slack 채널로 전송되거나 웹훅을 통해 전송됩니다. 이상이 정상으로 돌아오면 복구 메시지가 전송됩니다. 알림을 받고 싶지 않은 경우에도 [NRQL 쿼리](#anomaly-events) 를 통해 데이터에 액세스할 수 있습니다.

**이상 분석:** 각 이상에 대해 Slack에서 이상 분석 페이지로 연결되는 링크를 제공합니다. 이 페이지는 이상에 대한 자동 통찰력을 생성합니다. 이 페이지는 최근의 이상 항목을 나열하는 이상 항목 탭에서도 사용할 수 있습니다. 이 페이지는 기존 APM 및 이상 탐지 데이터를 사용하여 이상 원인에 대한 설명을 제공합니다.

**활동 스트림:** New Relic 홈페이지, APM 요약 페이지, Lookout 및 Explorer와 같은 다양한 활동 스트림 내에서 APM 모니터링 애플리케이션의 관련 이상 현상을 볼 수 있습니다. 활동 스트림에서 이상 이벤트를 클릭하면 해당 이상에 대한 분석 페이지가 나타납니다.

애플리케이션이 항상 이상을 생성하는 것은 아니므로 탐지를 수신하지 않는 것이 정상일 수 있습니다.

### 요구 사항 [#requirements]

New Relic의 이상 탐지를 사용하려면 다음을 확인하십시오.

* 하나 이상의 응용 프로그램에 대해 설치된 APM 에이전트.
* Slack에서 알림을 받으려면 IT 관리자에게 [Slack 작업 공간](https://slack.com/help/articles/202035138-Add-an-app-to-your-workspace) 에 New Relic 애플리케이션을 설치하도록 요청해야 합니다.

데이터 제한에 대한 자세한 내용은 [데이터](#data-limits) 제한 을 참조하십시오.

### 이상 감지에 대한 알림 설정 [#set-up]

자동 이상 탐지는 추가 비용 없이 자동으로 활성화됩니다. 알림을 받거나 인시던트 인텔리전스의 소스로 추가할 수 있는 구성(앱 그룹)을 가지려면 변칙 검색 구성을 생성해야 합니다. 이상 감지 UI에서 구성을 만들 수 있습니다.

1. **[one.newrelic.com](https://one.newrelic.com/all-capabilities)** 에서 **알림 및 AI** 를 클릭합니다.

2. **이상 감지** 에서 **설정을 클릭합니다** .

3. **구성 추가를** 클릭합니다.

4. 양식에 다음 정보를 입력합니다.

   * 계정의 다른 사람들과 쉽게 식별할 수 있도록 구성 이름을 선택하십시오.
   * 계정을 선택합니다.
   * 최대 1,000개의 애플리케이션을 선택합니다. 처리량이 낮은 특정 응용 프로그램은 데이터 변동의 작은 양에 더 민감할 수 있으므로 비정상 탐지에 적합하지 않을 수 있습니다.

5. 선택 사항: 이상 징후를 모니터링하려는 황금 신호를 선택합니다.

6. 선택 사항: [사고 정보에 연결합니다](#add-source) .

<CollapserGroup>
  <Collapser
    id="slack-set-up"
    title="Slack 설정"
  >
    Slack에서 이상 감지를 사용하려면:

    1. **여유** 를 선택합니다.

    2. 알림을 받을 Slack 채널을 선택합니다. 기존 공개 또는 비공개 채널을 선택할 수 있습니다. 그러면 선택한 채널에 적용된 인텔리전스 Slack 애플리케이션을 추가하라는 워크플로가 표시됩니다. 새 채널을 만들려면 먼저 Slack에서 직접 만드세요. <Callout variant="tip">Slack 채널을 할당할 때 오류가 발생하면 New Relic AI Slack 애플리케이션이 [Slack 작업 공간에 추가](https://slack.com/help/articles/202035138-Add-an-app-to-your-workspace) 되었는지 확인하십시오.</Callout>

    3. 구성을 저장합니다.

       구성 테이블에서 구성을 선택하여 언제든지 각 구성에 대한 애플리케이션을 수정할 수 있습니다.
  </Collapser>

  <Collapser
    id="configure-webhooks"
    title="웹훅 설정"
  >
    웹훅과 함께 이상 탐지를 사용하려면:

    1. **웹훅** 을 선택합니다.

    2. 양식에 다음 정보를 입력합니다.

       * 웹훅 URL을 제공하십시오.
       * 선택적 사용자 정의 헤더를 제공하십시오.
       * 사용자 지정 페이로드를 편집하거나 기본 페이로드를 사용하여 활성화하도록 선택합니다.

    3. 구성을 저장합니다.

       구성 테이블에서 구성을 선택하여 언제든지 각 구성에 대한 애플리케이션을 수정할 수 있습니다.
  </Collapser>

  <Collapser
    id="no-notifications"
    title="알림 없이 설정"
  >
    알림을 받을 필요가 없을 때 이상 감지를 사용하려면:

    1. **알림 없음** 을 선택합니다.

    2. 구성을 저장합니다.

       구성 테이블에서 구성을 선택하여 언제든지 각 구성에 대한 애플리케이션을 수정할 수 있습니다.
  </Collapser>
</CollapserGroup>

### 알림 음소거(Slack만 해당) [#mute-notifications]

Slack에서는 특정 애플리케이션에서 감지된 항목을 일시적으로 또는 영구적으로 음소거할 수 있습니다. 전체 채널을 일시적으로 음소거할 수도 있습니다. 이는 사고가 발생한 경우나 채널이 중단되어서는 안 되는 경우에 유용합니다.

Slack에서 **음소거하려면 이 앱의 경고** **음소거 또는 모든 경고 음소거** 를 선택한 다음 기간을 선택합니다. 음소거 기간이 완료되면 모든 감지에 대한 알림 전송을 재개합니다.

응용 프로그램을 음소거하면 구성에서 영구적으로 제거됩니다. 다시 추가하려면 **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Alerts & AI > Anomaly detection** 으로 이동하여 편집할 구성을 선택합니다.

이상 탐지 알림을 음소거해도 경고에는 영향을 미치지 않습니다.

### 이상 감지 Slack 메시지 사용 [#feedback]

각 이상 메시지에는 잠재적인 문제에 대해 자세히 알아보고 문제 해결을 시작하는 데 사용할 수 있는 몇 가지 주요 정보가 있습니다.

* 애플리케이션 이름 및 New Relic UI에 대한 추가 정보 링크.
* New Relic UI에서 이상 현상이 발생한 메트릭 및 세부 정보에 대한 링크.
* 시간 경과에 따른 메트릭 그래프로 이상 현상의 동작과 정도를 시각적으로 이해할 수 있습니다.
* 이상, 업스트림 또는 다운스트림에서 발견된 이상, 기타 관련 신호에 고유한 주요 속성을 식별하는 응용 인텔리전스의 분석 페이지로 이동하는 **분석** 버튼입니다.

이상이 정상으로 돌아오면 피드백을 제공할 수 있는 옵션이 포함된 복구 알림을 보냅니다. 귀하의 피드백은 감지 품질을 개선하는 데 도움이 되는 정보를 개발 팀에 제공합니다. 처리량 이상에 대한 피드백의 경우 피드백을 기반으로 매시간 평가를 실행하여 보다 적합한 모델에 적합하도록 합니다. 도움이 되었다면 **예** 또는 **아니요** 를 선택할 수 있습니다.

### 이상 탭 [#anomaly-overview]

Slack 또는 웹훅을 통해 정보를 제공하는 이상 징후에 대한 알림 외에도 [Alerts & AI Overview 페이지](/docs/alerts-applied-intelligence/new-relic-alerts/get-started/alerts-ai-overview-page) 의 [Anomalies 탭](/docs/alerts-applied-intelligence/new-relic-alerts/get-started/alerts-ai-overview-page#anomalies) 을 통해 환경의 이상 징후에 대한 자세한 정보를 볼 수 있습니다. 해당 탭은 선택한 계정의 모든 구성에서 최근 발생한 모든 이상 항목의 목록을 제공하며 자세한 분석을 위해 이상 항목을 선택할 수 있습니다.

### 이상 가시성 설정 [#visibility-settings]

변칙성은 다양한 New Relic 활동 스트림과 적용된 인텔리전스 변칙 피드에 표시됩니다. 비정상 가시성 설정을 사용하여 표시되는 항목을 사용자 정의할 수 있습니다(예: 활동 스트림에서 처리량 비정상을 숨기지만 비정상 피드에는 유지).

이러한 설정을 찾으려면 **알림 및 AI** 의 **이상 감지** 아래에서 **설정 을 클릭합니다** .

이러한 설정 사용에 대한 참고 사항:

* 이러한 설정은 사용자 수준에서 적용됩니다. 변경 사항은 조직의 다른 사용자에게 영향을 미치지 않습니다.
* 이러한 설정에 관계없이 이상 현상은 계속 보고되고 [NRQL 쿼리](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language) 에 사용할 수 있습니다.

이 UI 섹션에 대한 세부정보:

* **AI 개요 및 변칙 탭** : AI 개요 및 변칙 탭 설정을 사용하여 AI 개요 및 변칙 탭 설정에서 변칙을 숨깁니다. 이러한 보기와 관련된 필터도 사용할 수 있습니다.
* **글로벌 활동 스트림** : 글로벌 활동 스트림 섹션을 사용하여 New Relic 홈페이지, APM 요약 및 Lookout을 포함한 다양한 New Relic 활동 스트림에 표시되는 변칙성을 사용자 정의하십시오.
* **이상 유형** : 여기에서 확인란을 사용하여 특정 유형의 이상을 숨깁니다. 예를 들어, 활동 스트림과 AI 개요 및 이상 탭 모두에서 이러한 유형의 이상을 숨기려면 웹 **처리량** 및 **비웹 처리량** 이상을 선택 취소합니다. (참고로 여전히 보고되고 쿼리할 수 있습니다.)

### 이상 데이터 쿼리 [#anomaly-events]

[NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language) 을 사용하여 `NrAiAnomaly` 이벤트를 사용하여 이상 감지 데이터를 쿼리하고 차트로 작성할 수 있습니다. 예를 들어:

`FROM NrAiAnomaly SELECT *`

<Callout variant="important">
  이 데이터는 이전에 `ProactiveDetection` 이벤트에 첨부되었습니다. 해당 이벤트는 2021년 4월 7일에 더 이상 사용되지 않습니다. 맞춤 차트에서 `ProactiveDetection` 을 사용하는 경우 이러한 쿼리를 `NrAiAnomaly` 를 사용하여 변환해야 합니다.
</Callout>

다음은 이 이벤트에 연결된 중요한 속성입니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `closeTime`  
        _타임스탬프_
      </td>

      <td>
        이상이 종료된 시간입니다. 예: `1615304100000` .
      </td>
    </tr>

    <tr>
      <td>
        `configurationType`  
        _끈_
      </td>

      <td>
        이벤트를 모니터링하는 구성 유형입니다. 하나 이상의 구성이 엔티티를 모니터링하는 경우 `configuration` 으로 설정됩니다. 그렇지 않으면 `automatic` 로 설정됩니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.accountId`  
        _숫자_
      </td>

      <td>
        엔티티가 속한 New Relic 계정 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.domain`  
        _숫자_
      </td>

      <td>
        항목의 도메인(현재는 `APM` 이지만 향후 기능에 따라 변경됨)
      </td>
    </tr>

    <tr>
      <td>
        `entity.guid`  
        _끈_
      </td>

      <td>
        엔터티의 GUID입니다. 이것은 NerdGraph를 통해 엔티티에 대한 데이터를 식별하고 검색하는 데 사용됩니다. `entityGuid` 과 동일합니다.
      </td>
    </tr>

    <tr>
      <td>
        `entityGuid`  
        _끈_
      </td>

      <td>
        엔터티의 GUID입니다. 이것은 NerdGraph를 통해 엔티티에 대한 데이터를 식별하고 검색하는 데 사용됩니다. `entity.guid` 과 동일합니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.name`  
        _끈_
      </td>

      <td>
        데이터가 비정상적인 것으로 확인된 엔터티의 이름입니다. `entityName` 과 동일합니다. 예: `Laura's coffee service` .
      </td>
    </tr>

    <tr>
      <td>
        `entityName`  
        _끈_
      </td>

      <td>
        데이터가 비정상적인 것으로 확인된 엔터티의 이름입니다. `entity.name` 과 동일합니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.type`  
        _끈_
      </td>

      <td>
        항목 유형(현재는 `APPLICATION` 만 있지만 향후 기능에 따라 변경됨)
      </td>
    </tr>

    <tr>
      <td>
        `evaluationType`  
        _끈_
      </td>

      <td>
        이것은 항상 `anomaly` 입니다.
      </td>
    </tr>

    <tr>
      <td>
        `event`  
        _끈_
      </td>

      <td>
        비정상적인 데이터의 시작( `open` )인지 끝( `close` )인지 나타냅니다.
      </td>
    </tr>

    <tr>
      <td>
        `openTime`  
        _타임스탬프_
      </td>

      <td>
        이상이 열린 시간입니다. 예: `1615303740000` .
      </td>
    </tr>

    <tr>
      <td>
        `signalType`  
        _끈_
      </td>

      <td>
        분석된 데이터 유형입니다. 예: `error_rate` 또는 `response_time.non_web` .
      </td>
    </tr>

    <tr>
      <td>
        `timestamp`  
        _타임스탬프_
      </td>

      <td>
        이벤트가 작성된 시간입니다.
      </td>
    </tr>

    <tr>
      <td>
        `title`  
        _끈_
      </td>

      <td>
        이상 현상에 대한 설명입니다. 예: `Error rate was much higher than normal` .
      </td>
    </tr>
  </tbody>
</table>

### 인시던트 인텔리전스의 소스로 이상 항목 추가 [#add-source]

인시던트 인텔리전스를 이상 감지와 통합하여 컨텍스트와 상관 관계를 얻을 수 있습니다. 인시던트 인텔리전스에서 이 작업을 수행하는 방법에 대해 알아보려면 [소스 구성](/docs/alerts-applied-intelligence/applied-intelligence/incident-intelligence/get-started-incident-intelligence/#1-configure-sources) 을 참조하십시오.

구성 내부에서 **사고 인텔리전스에 연결을** 선택할 수도 있습니다.

### Webhook 페이로드 및 예시 [#webhook]

자동 이상 탐지는 HTTPS POST를 통해 이벤트 본문을 JSON 형식으로 보냅니다. 시스템은 엔드포인트가 성공적인 HTTP 코드(2xx)를 반환할 것으로 예상합니다. 웹후크를 사용하여 자동 이상 감지를 구성하는 경우 웹후크 본문 형식 및 JSON 스키마의 다음 예를 사용하십시오.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `category`  
        _열거_
      </td>

      <td>
        분석된 데이터의 범주입니다.

        범주에는 웹 처리량, 웹이 아닌 처리량, 웹 트랜잭션, 웹이 아닌 트랜잭션 및 오류 클래스가 포함됩니다.
      </td>
    </tr>

    <tr>
      <td>
        `data`  
        _목록_
      </td>

      <td>
        탐지로 이어지는 시계열 데이터.
      </td>
    </tr>

    <tr>
      <td>
        `data[].timestamp`  
        _숫자_
      </td>

      <td>
        [Unix epoch 이후 데이터 포인트의 타임스탬프(밀리초](https://currentmillis.com/) )입니다. 예: 1584366819000
      </td>
    </tr>

    <tr>
      <td>
        `data[].unit`  
        _끈_
      </td>

      <td>
        데이터 포인트의 값을 설명하는 단위입니다.

        데이터 단위에는 `count` , `milliseconds` 및 `error_rate` 가 포함됩니다.
      </td>
    </tr>

    <tr>
      <td>
        `data[].value`  
        _숫자_
      </td>

      <td>
        데이터 포인트의 값입니다. 예: 1.52
      </td>
    </tr>

    <tr>
      <td>
        `detectionType`  
        _열거_
      </td>

      <td>
        분석된 데이터 유형입니다. 유형에는 `latency` , `throughput` 및 `error_rate` 가 있습니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity`  
        _물체_
      </td>

      <td>
        비정상적인 데이터를 보고한 개체입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.accountId`  
        _숫자_
      </td>

      <td>
        엔터티 계정의 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.domain`  
        _열거_
      </td>

      <td>
        엔터티의 도메인입니다. 예: APM.
      </td>
    </tr>

    <tr>
      <td>
        `entity.domainId`  
        _끈_
      </td>

      <td>
        도메인 내에서 엔티티를 고유하게 식별하는 데 사용되는 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.guid`  
        _끈_
      </td>

      <td>
        모든 제품에서 엔티티를 고유하게 식별하는 데 사용되는 가이드입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entity.name`  
        _끈_
      </td>

      <td>
        엔터티의 이름입니다. 예시: `Laura’s coffee service`
      </td>
    </tr>

    <tr>
      <td>
        `entity.link`  
        _끈_
      </td>

      <td>
        엔터티를 볼 수 있는 링크입니다. 예시:

        ```
        https://rpm.newrelic.com/accounts/<var>YOUR_ACCOUNT_ID</var>/applications/987654321”
        ```
      </td>
    </tr>

    <tr>
      <td>
        `severity`  
        _열거_
      </td>

      <td>
        `NORMAL` , `WARNING` 또는 `CRITICAL` 를 포함하여 변경이 얼마나 비정상적으로 발생했는지에 대한 설명입니다.
      </td>
    </tr>

    <tr>
      <td>
        `version`  
        _끈_
      </td>

      <td>
        제공되는 데이터를 설명하는 데 사용되는 버전입니다.

        예: v1
      </td>
    </tr>

    <tr>
      <td>
        `viewChartImageUrl`  
        _끈_
      </td>

      <td>
        변칙 데이터의 차트를 보여주는 이미지.
      </td>
    </tr>

    <tr>
      <td>
        `anomalyzerUrl`  
        _끈_
      </td>

      <td>
        New Relic의 변칙성을 분석하기 위해 열 수 있는 URL입니다.
      </td>
    </tr>
  </tbody>
</table>

<CollapserGroup>
  <Collapser
    id="json-example-schema"
    title="JSON 스키마 예"
  >
    적용된 인텔리전스는 HTTPS POST를 통해 이벤트 본문을 JSON 형식으로 보냅니다. 시스템은 끝점이 성공적인 HTTP 코드(2xx)를 반환할 것으로 예상합니다.

    주형:

    ```
    {
      "version": "{{version}}", 
      "entity": {
        "type": "{{entity.type}}",
        "name": "{{entity.name}}",
        "link": "{{entity.link}}",
        "entityGuid": "{{entity.entityGuid}}",
        "domainId": "{{entity.domainId}}",
        "domain": "{{entity.domain}}",
        "accountId": {{entity.accountId}}
      },
      "detectionType": "{{detectionType}}",
      "category": "{{category}}",
      "data": [{{#each data}}
        {
          "value": {{value}},
          "unit": "{{unit}}",
          "timestamp": {{timestamp}}
        }
        {{#unless @last}},{{/unless}}
      {{/each}}],
      "viewChartImageUrl": "{{viewChartImageUrl}}",  
      "anomalyzerUrl": "{{anomalyzerUrl}}"
    }
    ```

    샘플 페이로드:

    ```
    {
      "version": "v1",
      "entity": {
        "type": "APPLICATION",
        "name": "<var>My Application</var>",
        "link": "https://rpm.newrelic.com/accounts/<var>ACCOUNT_ID</var>/applications/123",
        "entityGuid": "foo",
        "domainId": "123",
        "domain": "APM",
        "accountId": <var>YOUR_ACCOUNT_ID</var>
      },
      "detectionType": "metric",
      "category": "web throughput",
      "data": [ {
        "value": "100",
        "unit": "count",
        "timestamp": 1637260259819
      }, {
        "value": "99",
        "unit": "count",
        "timestamp": 1637260319819
      }, {
        "value": "0",
        "unit": "count",
        "timestamp": 1637260379819
      } ],
      "viewChartImageUrl": "https://www.example.com/image/8353cf2c-945c-48e8-99de-e903f033a881?height=200&width=400&show_timezone=true",
      "anomalyzerUrl": "https://www.example.com/anomalyzerUrlExample"
    }
    ```
  </Collapser>
</CollapserGroup>

### 데이터 제한

[요구 사항](#requirements) 외에도 데이터 제한은 다음과 같습니다.

* 모니터링되는 APM 애플리케이션: 구성당 1,000개로 제한
* Slack 구성: 계정당 200개로 제한
* 웹훅 구성: 계정당 200개로 제한
* 알림이 없는 구성: 계정당 200개로 제한

## 맞춤 이상 [#custom-anomalies]

먼저 조건을 만들어야 합니다. **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Alerts & AI > Policies > (정책 만들기 또는 선택) > Create alert condition** 로 이동합니다. APM, 브라우저 또는 NRQL 조건을 선택할 수 있습니다.

그런 다음 알림 조건 임계값 유형으로 이상을 선택해야 합니다.

이 임계값은 데이터 가치에 대한 향후 동작을 예측합니다. . 이 예측은 이상 조건 UI의 미리보기 차트에 검은색 점선으로 나타납니다.

<img
  title="How custom anomalies work"
  alt="A screenshot demonstrating active custom anomalies"
  src={alertsHowCustomAnomaliesWork}
/>

### 이상 임계값 구성

임계값 유형으로 '이상'을 선택한 후 임계값을 설정해야 합니다. 이렇게 하면 알림을 받을 기준이 설정됩니다.

이렇게 하려면 다음이 필요합니다.

* 조건에서 상위 위반, 하위 위반 또는 둘 다를 확인할지 여부를 설정합니다.
* 인시던트를 트리거할 동작 설정(예: "5분 이상 편차")
* 더 많은 위반 또는 더 적은 위반으로 슬라이딩 막대를 조정하여 데이터 소스의 변동에 대한 조건의 민감도를 조정합니다. 이 막대는 알림을 받으려는 예측에서 얼마나 많은 표준 편차가 떨어져 있는지 계산합니다.

<img
  title="Custom anomaly configuration"
  alt="A screenshot demonstrating how to configure custom anomalies"
  src={alertsConfigureYourAnomalyThresholds}
/>

데이터가 예측된 "정상" 동작을 벗어나고 선택한 기준을 충족하면 알림을 받게 됩니다.

다음은 이상 임계값을 설정하기 위한 몇 가지 팁입니다.

* 이상 방향 위 또는 아래에서 발생하는 위반을 모니터링하도록 [이상 방향](#upper-lower) 을 설정합니다.

* 미리보기 차트를 표시된 데이터의 [2일 또는 7일로](#days) 설정합니다. ( [NRQL 경고 조건](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) 에는 적용되지 않습니다.)

* 슬라이더 막대를 사용하여

  <img title="Alerts v3: Critical alert icon" alt="icon-alert-critical.png" src={iconAlertCritical}>을 조정합니다.</img>

  **임계값 **임계값 감도, 미리 보기 차트에서 이상 현상 주변의 밝은 회색 영역으로 표시됩니다. 이상 주변의 밴드가 더 조밀할수록 더 민감해지고 더 많은 위반이 생성됩니다.

* 선택 사항:

  <img title="Alerts v3: Warning alert icon" alt="icon-alert-warning.png" src={iconAlertWarning}>을 생성할 수 있습니다.</img>

  [**경고 **임계값 ](/docs/alerts/new-relic-alerts/defining-conditions/set-thresholds-alert-condition#threshold-levels)(이상 주변의 더 어두운 회색 영역).

* NRQL 경고의 경우 [허용되는 NRQL 쿼리 유형을](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries#threshold-types) 참조하십시오.

* 경고 조건이 여러 앱에 적용되는 경우 차트 위의 드롭다운에서 선택 항목을 선택하여 다른 측정항목을 사용할 수 있습니다. (NRQL 경고 조건에는 적용되지 않습니다.)

### 패싯 변칙 조건 [#anomaly-facets]

이상 조건에 대해 패싯 NRQL 쿼리를 실행한 후에는 결과 범위를 단일 이상으로 지정할 수 있습니다.

<img
  title="Faceted anomalies"
  alt="A screenshot depicting faceted anomalies"
  src={alertsFacetedAnomalies}
/>

단일 시계열은 이상, 임계값 대역 및 하나 이상의 위반 영역(있는 경우)을 표시합니다.

<img
  title="Configured faceted anomalies"
  alt="A screenshot depicting a deeper dive into facted anomalies "
  src={alertsFacetedAnomaliesTwo}
/>

### 이상 방향: 상한 또는 하한 범위 선택

예측 값을 초과하는 동작("upper"), 예측 값 미만("lower") 또는 위 또는 아래로 이동하는 동작에 대해 조건을 위반할지 여부를 선택할 수 있습니다. 예측 방향 선택기로 이를 선택합니다.

이에 대한 사용 사례의 예:

* 오류 비율과 같은 데이터 원본에 대해 상한 설정을 사용할 수 있습니다. 일반적으로 오류율이 올라가는 경우에만 관심이 있고 낮아지는 경우에는 관심이 없기 때문입니다.
* 처리량과 같은 데이터 원본에 대해 더 낮은 설정을 사용할 수 있습니다. 갑작스러운 상승 변동은 매우 일반적이지만 갑작스러운 큰 폭의 하락은 문제의 신호일 수 있기 때문입니다.

다음은 다양한 변칙 방향 설정에서 데이터의 큰 변동이 어떻게 처리되는지에 대한 예입니다. 빨간색 영역은 위반을 나타냅니다.

<img
  title="A screenshot of anomaly details in the New Relic UI"
  alt="A screenshot demonstrating how to select upper and lower ranges for anomalies"
  src={alertsAnomaliesSetUpperandLowerRanges}
/>

### 예측값 계산에 적용되는 규칙

예측을 계산하는 알고리즘은 수학적으로 복잡합니다. 다음은 예측 능력을 관리하는 몇 가지 주요 규칙입니다.

* **데이터의 수명** 초기 생성 시 예측은 데이터 가용성 및 예측 유형에 따라 1주에서 4주 사이의 데이터를 사용하여 계산됩니다. 생성 후 알고리즘은 오랜 기간 동안 진행 중인 데이터 변동을 고려하지만 최근 데이터에 더 큰 가중치가 부여됩니다. 짧은 시간 동안만 존재한 데이터의 경우 예측 값이 많이 변동하고 정확하지 않을 수 있습니다. 일반적인 값과 동작을 결정할 데이터가 아직 충분하지 않기 때문입니다. 데이터의 기록이 많을수록 예측 및 임계값이 더 정확해집니다.
* **데이터** 의 일관성 일관된 범위에 남아 있거나 느리고 꾸준히 추세를 보이는 메트릭 값의 경우 더 예측 가능한 동작은 해당 임계값이 예측에 대해 더 엄격해짐을 의미합니다. 더 다양하고 예측할 수 없는 데이터는 더 느슨한(더 넓은) 임계값을 갖습니다.
* **정기적인 변동** 1주일 미만의 주기적 변동(예: 매주 수요일 오후 1시 배포 또는 야간 보고서)의 경우 예측 알고리즘은 이러한 주기적 변동을 찾아 조정하려고 시도합니다.